<mvc:View
	controllerName="com.tasa.analisiscomb.controller.Worklist"
	xmlns="sap.m"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:semantic="sap.f.semantic"
	xmlns:core="sap.ui.core"
	xmlns:f="sap.ui.layout.form"
	xmlns:table="sap.ui.table">

	<semantic:SemanticPage
		id="page">

		<semantic:titleHeading>
			<Title
				text="{i18n>worklistTitle}"
				level="H2"/>
		</semantic:titleHeading>
		
		<semantic:headerContent>
			<f:Form id="idFormHeader" >
				<f:title>
					<core:Title text="Datos de Selección" />
				</f:title>
				<f:formContainers>
					<f:FormContainer >
						<f:formElements>
							<f:FormElement label="Embarcación">
								<f:fields>
									<Input type="Text" id="idEmbarcacion" showValueHelp="true" enabled="true" visible="true" width="91%" valueHelpOnly="false" required="false" valueStateText="Invalid entry" maxLength="0" valueHelpRequest="_onOpenDialogEmbarcacion"/>
									<Text text="" id="txtEmbarca" width="50%" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit" visible="true"/>
								</f:fields>
							</f:FormElement>
							
							<f:FormElement label="Fecha de Inicio">
								<f:fields>
									<DateRangeSelection width="50%" displayFormat="dd/MM/yyyy" id="idFechaInicio" required="false" valueStateText="Invalid entry" enabled="true" visible="true" valueFormat="yyyyMMdd"/>
								</f:fields>
							</f:FormElement>
						</f:formElements>
					</f:FormContainer>
					<f:FormContainer >
						<f:formElements>
							
							<f:FormElement label="Motivo">
								<f:fields>
									<ComboBox editable="true"  id="idEstado" items="{path:'Estado>/ZCDMMACOM',sorter:{path:'id'}}" enabled="true" visible="true" width="auto" valueState="None" maxWidth="100%">
                                        <items>
                                                <core:Item text="{Estado>descripcion}" enabled="true" key="{Estado>id}"/>
                                        </items>
                                	</ComboBox>
								</f:fields>
							</f:FormElement>
							<f:FormElement label="Cantidad de aciertos">
								<f:fields>
									<Input id="idCant" value="5"
										placeholder="Ingrese número de registros"
										type="Number"/>
								</f:fields>
							</f:FormElement>
						</f:formElements>
					</f:FormContainer>
					<f:FormContainer >
						<f:formElements>
							<f:FormElement >
								<f:fields>
									<Button text="Buscar" type="Emphasized" press="onBusqueda" />
								</f:fields>
							</f:FormElement>
						</f:formElements>
					</f:FormContainer>
				</f:formContainers>
				<f:layout>
					<f:ResponsiveGridLayout
						labelSpanXL="2"
						labelSpanL="3"
						labelSpanM="4"
						labelSpanS="12"
						adjustLabelSpan="false"
						emptySpanXL="0"
						emptySpanL="0"
						emptySpanM="0"
						emptySpanS="0"
						columnsXL="2"
						columnsL="2"
						columnsM="1"
						singleContainerFullSize="false" />
				</f:layout>
			</f:Form>
		</semantic:headerContent>

		<semantic:content>
			<table:Table
				id="table"
                            rows="{Combustible>/listaCombustible}"
							selectionMode="MultiToggle"
                            visibleRowCount="7"
                            showColumnVisibilityMenu="{ui>/showVisibilityMenuEntry}"
                            enableColumnFreeze="{ui>/showFreezeMenuEntry}"
                            enableCellFilter="{ui>/enableCellFilter}"
                            columnSelect="onColumnSelect"
                            cellContextmenu="onProductIdCellContextMenu"
                            ariaLabelledBy="title"
							>
				<table:extension>
					<OverflowToolbar style="Clear">
						<Button text="Cuadro de consumo" press="_onOpenDialogArmador"/>
						<Button text="QlikView" press="onExporQlikView"/>
						<Button text="Carga Consumo" press="onCargarConsumo"/>
						<ToolbarSpacer/>
						<Button icon="sap-icon://excel-attachment" type="Emphasized" press="onExportar" />
						<SearchField
							id="searchField"
							tooltip="{i18n>worklistSearchTooltip}"
							search="filterGlobally">
							<layoutData>
								<OverflowToolbarLayoutData
									maxWidth="200px"
									priority="NeverOverflow"/>
							</layoutData>
						</SearchField>	
					</OverflowToolbar>
				</table:extension>
				<table:columns editable="false">
					<table:Column width="8rem">
						<table:label>
							<Label text="Marea"/>
						</table:label>
						<table:template>
							<Text text="{Combustible>NRMAR}"/>
						</table:template>
					</table:Column>
					<table:Column width="6rem">
						<table:label>
							<Label text="Nomb. Emb."/>
						</table:label>
						<table:template>
							<Text text="{Combustible>NMEMB}"/>
						</table:template>
					</table:Column>
					<table:Column width="8rem">
						<table:label>
							<Label text="Mot. mar."/>
						</table:label>
						<table:template>
							<Text text="{Combustible>DSMMA}"/>
						</table:template>
					</table:Column>
					<table:Column width="6rem">
						<table:label>
							<Label text="Puert. zarpe"/>
						</table:label>
						<table:template>
							<Text text="{Combustible>PTOZA}"/>
						</table:template>
					</table:Column>
					<table:Column width="10rem">
						<table:label>
							<Label text="Fecha/hora zarpe"/>
						</table:label>
						<table:template>
							<Text text="{Combustible>FECZA} {Combustible>HIZAR}"/>
						</table:template>
					</table:Column>
					<table:Column width="6rem">
						<table:label>
							<Label text="Puert. arribo"/>
						</table:label>
						<table:template>
							<Text text="{Combustible>PTOAR}"/>
						</table:template>
					</table:Column>
					<table:Column width="10rem">
						<table:label>
							<Label text="Fecha/hora arribo"/>
						</table:label>
						<table:template>
							<Text text="{Combustible>FECAR} {Combustible>HIARR}"/>
						</table:template>
					</table:Column>
					<table:Column width="8rem">
						<table:label>
							<Label text="Fecha prod."/>
						</table:label>
						<table:template>
							<Text text="{Combustible>FECCONMOV}"/>
						</table:template>
					</table:Column>
					<table:Column hAlign="End" width="8rem">
						<table:label>
							<Label text="Cant. desc.(TN)"/>
						</table:label>
						<table:template>
							<Text text="{Combustible>CNPDS}"/>
						</table:template>
					</table:Column>
					<table:Column hAlign="End" width="8rem">
						<table:label>
							<Label text="Stock Inicial"/>
						</table:label>
						<table:template>
							<Text text="{Combustible>STCMB}"/>
						</table:template>
					</table:Column>
					<table:Column hAlign="End" width="8rem">
						<table:label>
							<Label text="Sumn. "/>
						</table:label>
						<table:template>
							<Text text="{Combustible>CNSUM}"/>
						</table:template>
					</table:Column>
					<table:Column hAlign="End" width="8rem">
						<table:label>
							<Label text="Cons. (Gln)"/>
						</table:label>
						<table:template>
							<Text text="{Combustible>CONSU}"/>
						</table:template>
					</table:Column>
					<table:Column hAlign="End" width="8rem">
						<table:label>
							<Label text="Stock. final"/>
						</table:label>
						<table:template>
							<Text text="{Combustible>STFIN}"/>
						</table:template>
					</table:Column>
					<table:Column width="6rem">
						<table:label>
							<Label text="Obs."/>
						</table:label>
						<table:template>
							<Button   visible="{Combustible>estado}" icon="sap-icon://document-text" />
						</table:template>
					</table:Column>
					<table:Column width="6rem" hAlign="Center">
						<table:label>
							<Label text=""/>
						</table:label>
						<table:template>
							<Button icon="sap-icon://show" type="Emphasized" press="onDetail" />
						</table:template>
					</table:Column>
					<table:Column width="5rem">
						<table:label>
							<Label text="Selec."/>
						</table:label>
						<table:template>
							<CheckBox selected="{Combustible>estadoCheck}" editable="{Combustible>SoloLecturaAjustComb}"/>
						</table:template>
					</table:Column >
					<table:Column hAlign="End" width="8rem">
						<table:label>
							<Label text="Cant. Combus. Regularizar"></Label>
						</table:label>
						<table:template>
							<Text text="{}"/>
						</table:template>
					</table:Column>
					<table:Column width="15rem">
						<table:label>
							<Label text="Imputación"></Label>
						</table:label>
						<table:template>
								<ComboBox editable="true" selectedKey="{Combustible>comboKey}"  id="idEstado2" items="{path:'EstadoGrilla>/ZD_TPIMPU',sorter:{path:'id'}}" enabled="{Combustible>estadoCombo}" visible="true" width="auto" valueState="None" maxWidth="100%">
                                        <items>
                                                <core:Item text="{EstadoGrilla>descripcion}" enabled="true" key="{EstadoGrilla>id}"/>
                                        </items>
                                </ComboBox>
						
						</table:template>
					</table:Column>
					<table:Column width="8rem">
						<table:label>
							<Label text="Fecha contable"></Label>
						</table:label>
						<table:template>
							<Text text="{Combustible>FECCONMOV}"/>
						</table:template>
					</table:Column>
					<table:Column width="20rem">
						<table:label>
							<Label text="Comentario"></Label>
						</table:label>
						<table:template>
							<Input value="{Combustible>DSOBS}" editable="{Combustible>SoloLecturaAjustComb}"/>
						</table:template>
					</table:Column>
				</table:columns>

			</table:Table>
		</semantic:content>

	</semantic:SemanticPage>

</mvc:View>